<div class="row">
    <div class="col-lg-4 ">
        <ul class="breadcrumb">
            <li><i class="fa fa-home"></i><a href="#">主页</a></li> <li class="active">代理商管理</li>
        </ul>
    </div>
</div>
<div class="main-header">
    <h2>代理商管理</h2>
    <em>对代理商账户进行增,删,改,查,充值操作</em>
</div>
<div class="main-content">
    <div class="widget">
        <div class="widget-content">
            <div class="row more-seach">
                <div class="col-xs-4">
                    <div class="input-group btn-group datesel" style="max-width: 250px;">
                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                        <button type="button" class="btn btn-default btn-md" 
                        style="width: 100%;"><span></span>
                        </button>
                        <ul class="dropdown-menu" style="width: 100%;">
                            <li style="text-align: center;">
                                <span class="badge" data-tr="0">今日</span>
                                <span class="badge" data-tr="1">昨日</span>
                                <span class="badge" data-tr="7">近7日</span>
                                <span class="badge" data-tr="30">近30日</span>
                                <span class="badge" data-tr="90">全部</span>
                            </li>
                            <li>
                                <div class="form-group">
                                    <span class="input-icon icon-right">
                                        <input type="text" class="form-control" readonly placeholder="筛选日期">
                                        <i class="fa fa-calendar"></i>
                                    </span>
                                </div>
                            </li>
                            <li style="text-align:right">
                                <button type="button" class="btn btn-default btn-sm"><i class="fa fa-check-circle"></i>确认</button>
                                <button type="button" class="btn btn-default btn-sm"><i class="fa fa-edit"></i>取消</button>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-xs-8 text-right">
                    <div class="btn-group multi-c">
                        <button type="button" class="btn btn-default btn-md ck"><i class="fa fa-glass"></i> 筛选</button>
                        <button type="button" class="btn btn-default btn-md ck" style="margin-left:0"><span class="caret"></span></button>
                        <ul class="dropdown-menu" role="menu">
                            <li>
                                <div class="title">
                                    <label>渠道：
                                        <input type="checkbox" class="ckcheked" data-size="mini">
                                    </label>
                                    <label>不筛选</label>
                                </div>

                                <div class="multi-content">
                                    <select id="multiselect6" multiple="multiple" style="width:100%">
                                        <optgroup label="大中华">
                                            <option value="analysis">渠道5-</option>
                                            <option value="algebra">渠道1*s</option>
                                            <option value="discrete">渠道1-899</option>
                                            <option value="numerical">渠道231 </option>
                                            <option value="probability">渠道1322</option>
                                        </optgroup>
                                    </select>
                                </div>
                            </li>
                            <li>
                                <div class="title">
                                    <label>区服：
                                        <input type="checkbox" class="ckcheked" data-size="mini">
                                    </label>
                                    <label>不筛选</label>
                                </div>

                                <div class="multi-content">
                                    <select id="multiselect7" multiple="multiple" style="width:100%">
                                        <optgroup label="华南二区">
                                            <option value="analysis">二区-</option>
                                            <option value="algebra">二区*s</option>
                                            <option value="discrete">二区-899</option>
                                            <option value="numerical">二区 </option>
                                            <option value="probability">二区</option>
                                        </optgroup>
                                    </select>
                                </div>
                            </li>
                            <li style="text-align:right;border:0;">
                                <button type="button" class="btn btn-default btn-sm"><i class="fa fa-check-circle"></i>确认</button>
                                <button type="button" class="btn btn-default btn-sm cancel"><i class="fa fa-edit"></i>取消</button>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="widget">
        <div class="widget-header">
            <h3><i class="glyphicon glyphicon-th-list"></i>代理商信息</h3>
        </div>
        <div class="widget-content">
            <div class="flip-scroll">
                <table class="table table-bordered table-striped table-condensed flip-content" id="simpledatatable">
                    <thead class="flip-content bordered-palegreen">                  
                        <tr>
                            <th>
                                代理商账号
                            </th>
                            <th>
                                游戏归属
                            </th>
                            <th>
                                房卡数
                            </th>
                            <th>
                                上级代理商
                            </th>
                            <th>
                                性别
                            </th>
                            <th>
                                联系方式
                            </th>
                            <th>
                                级别
                            </th>
                            <th>
                                备注
                            </th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h4 class="modal-title" id="myModalLabel">代理商详情</h4>
				</div>
				<div class="modal-body">
					<form id="advanced-form" data-parsley-validate novalidate>
					    <div class="row">
					    	<div class="col-xs-6">
								<div class="form-group">
									<label for="text-input1">代理商账号</label>
									<input type="text" id="text-input1" 
										data-parsley-required-message="密码不可为空" 
										data-parsley-minlength-message="最少8位"
										class="form-control" 
										required 
										data-parsley-minlength="8">
								</div>					    		
					    	</div>
					    	<div class="col-xs-6">
								<div class="form-group">
									<label for="text-input2">游戏归属</label>
									<input type="text" id="text-input2" class="form-control"  data-parsley-range="[5,10]">
								</div>					    		
					    	</div>
					    </div>
					    <div class="row">
					    	<div class="col-xs-6">
								<div class="form-group">
									<label for="text-input1">代理商账号</label>
									<input type="text" id="text-input1" 
										data-parsley-required-message="密码不可为空" 
										data-parsley-minlength-message="最少8位"
										class="form-control" 
										 
										data-parsley-minlength="8">
								</div>					    		
					    	</div>
					    	<div class="col-xs-6">
								<div class="form-group">
									<label for="text-input2">游戏归属</label>
									<input type="text" id="text-input2" class="form-control"  data-parsley-range="[5,10]">
								</div>					    		
					    	</div>
					    </div>
					    <div class="row">
					    	<div class="col-xs-6">
								<div class="form-group">
									<label for="text-input1">代理商账号</label>
									<input type="text" id="text-input1" 
										data-parsley-required-message="密码不可为空" 
										data-parsley-minlength-message="最少8位"
										class="form-control" 
										 
										data-parsley-minlength="8">
								</div>					    		
					    	</div>
					    	<div class="col-xs-6">
								<div class="form-group">
									<label for="text-input2">游戏归属</label>
									<input type="text" id="text-input2" class="form-control" data-parsley-range="[5,10]">
								</div>					    		
					    	</div>
					    </div>
					    <div class="row">
					    	<div class="col-xs-6">
								<div class="form-group">
									<label for="text-input1">代理商账号</label>
									<input type="text" id="text-input1" 
										data-parsley-required-message="密码不可为空" 
										data-parsley-minlength-message="最少8位"
										class="form-control" 
										 
										data-parsley-minlength="8">
								</div>					    		
					    	</div>
					    	<div class="col-xs-6">
								<div class="form-group">
									<label for="text-input2">游戏归属</label>
									<input type="text" id="text-input2" class="form-control" data-parsley-range="[5,10]">
								</div>					    		
					    	</div>
					    </div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times-circle"></i> 关闭</button>
					<button type="button" class="btn btn-custom-primary"><i class="fa fa-check-circle"></i> 保存</button>
				</div>
			</div>
		</div>
	</div>
</div><!-- /main-content -->
<script src="assets/js/plugins/parsley-validation/parsley.min.js"></script>
<script src="assets/js/plugins/jquery.form/jquery.form.js"></script>
<script type="text/javascript">
    $(function () {
        $('#simpledatatable').dataTable({
            ajax:'data1.json',
            columns: [
                { 
                	data: "ct1", 
                	render: function ( data, type, row ) {
                   	 	return data;
                    }
                },
                { data: "ct2" },
                { data: "ct3" },
                { data: "ct4" },
                { data: "ct5" },
                { data: "ct6" },
                { data: "ct7" },
                { data: "ct8" }
            ],
             dom: 'Bfrtip',
             select:true,
             buttons: 
             [
				{ 
					text: '增加代理商信息',
					action: function () {
						$('#myModal').modal('show')
					} 
				}
				,             
                {
                    extend: 'copy',
                    text: '复制'
                },

                'excel',
                {
                    extend: 'colvis',
                    text: '设置列'
                },          
                'pageLength'
             ],
            "oLanguage": $.scParameter.datatable_lang
        });

        $('.datesel').selDate({
            e_click:function(item){}
        });
        $('.multi-c').multi_c();

        $('#multiselect6,#multiselect7').select2();

        $('#rangeTime').mobiscroll().calendar({
            theme:$.scParameter.theme,
            lang: $.scParameter.lang,
            display: $.scParameter.display,
            mode:$.scParameter.mode
        });
		$('#advanced-form').parsley().on('field:validated', function() {
			var ok = $('.parsley-error').length === 0;
			$('.bs-callout-info').toggleClass('hidden', !ok);
			$('.bs-callout-warning').toggleClass('hidden', ok);
		})
		.on('form:submit', function() {
		 	$('#advanced-form').ajaxSubmit({
                url: '12121/ADS',                 //默认是form的action
                type: 'POST',               //默认是form的method（get or post）
                dataType: "json",           //html(默认), xml, script, json...接受服务端返回的类型
                //clearForm: true,          //成功提交后，清除所有表单元素的值
                //resetForm: true,          //成功提交后，重置所有表单元素的值
                //target: '#output',          //把服务器返回的内容放入id为output的元素中
                //timeout: 3000,               //限制请求的时间，当请求大于3秒后，跳出请求
                //提交前的回调函数
                beforeSubmit: function(arr,$form,options){
                    //formData: 数组对象，提交表单时，Form插件会以Ajax方式自动提交这些数据，格式如：[{name:user,value:val },{name:pwd,value:pwd}]
                    //jqForm:   jQuery对象，封装了表单的元素
                    //options:  options对象
                    //比如可以再表单提交前进行表单验证
                },
                //提交成功后的回调函数
                success: function(data,status,xhr,$form){

                },
                error: function(xhr, status, error, $form){
                    
                },
                complete: function(xhr, status, $form){
                    
                }
            });
            return false;
		});
		$('#myModal').on('show.bs.modal', function () {

		});
		$('#myModal').on('hide.bs.modal', function () {
			$('#advanced-form').submit();
			//http://www.cnblogs.com/Philoo/archive/2011/10/05/jeasyui_api_form.html
			return true;
		});
    });   
</script>